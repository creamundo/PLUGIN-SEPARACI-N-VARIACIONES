((n,e)=>{let _={cache(){_.vars={},_.els={},_.vars.count=[],_.vars.index_settings={},_.els.process_overlay=n(".process-overlay"),_.els.process=n(".process"),_.els.process_content=n(".process__content--processing"),_.els.process_loading=n(".process__content--loading"),_.els.process_complete=n(".process__content--complete"),_.els.process_from=n(".process__count-from"),_.els.process_to=n(".process__count-to"),_.els.process_total=n(".process__count-total"),_.els.process_loading_bar_fill=n(".process__loading-bar-fill")},on_ready(){_.cache(),_.watch_triggers();var s={...jckWssvVars.select_woo_options.categories,ajax:{...jckWssvVars.select_woo_options.categories.ajax,data(s){return{action:"iconic_wssv_product_taxonomy_search",taxonomy:"product_cat",term:s.term,nonce:jckWssvVars?.index_nonce}}},multiple:!0};n(".iconic-wssv-categories-to-apply-visibility-settings__categories").selectWoo(s)},watch_triggers(){n("[data-iconic-wssv-ajax]").on("click",function(){var s=n(this).data("iconic-wssv-ajax");if(!_?.[s])return!1;_[s].run()}),n(".process__close").on("click",function(){_.process.hide(),n(this).data("reload")&&location.reload()}),n(e.body).on("click","[data-iconic-wssv-process-screen]",function(s){s.preventDefault();s=n(this).data("iconic-wssv-process-screen");_.process.show(s),n(e.body).trigger("iconic_wssv_trigger_process_"+s)}),n(e.body).on("iconic_wssv_trigger_process_start",function(){_.process.show("loading"),_.process_product_visibility.start()}),n(".iconic-wssv-categories-to-apply-visibility-settings__checkbox").on("click",function(){n(this).is(":checked")?n(this).parents(".iconic-wssv-categories-to-apply-visibility-settings").find(".iconic-wssv-categories-to-apply-visibility-settings__categories-wrapper").show():n(this).parents(".iconic-wssv-categories-to-apply-visibility-settings").find(".iconic-wssv-categories-to-apply-visibility-settings__categories-wrapper").hide()})},process_product_visibility:{run(){_.process.show("open")},start(){let s=_.process_product_visibility.get_settings();_.process_product_visibility.clear_settings(),_.get_count("product",function(t){_.process.update_count(1,10,t),_.process.show("processing"),_.batch("process_product_visibility",t,10,0,function(s,e){s?(s=t<=(s=e+10)?t:s,_.process.update_count(e,s,t),_.process.set_percentage(e,t)):(_.process.show("complete"),_.process.set_percentage(t,t))},s)})},clear_settings(){_.vars.index_settings={}},get_settings(){var s;return!n.isEmptyObject(_.vars.index_settings)||(s=n(".process__form").serializeArray()).length<=0||n.each(s,function(s,e){var t;""!==e.value&&("undefined"==(t=typeof _.vars.index_settings[e.name])?_.vars.index_settings[e.name]=e.value:("object"!=t&&(t=_.vars.index_settings[e.name],_.vars.index_settings[e.name]=[],_.vars.index_settings[e.name].push(t)),_.vars.index_settings[e.name].push(e.value)))}),_.vars.index_settings}},process:{show(s){s=void 0===s?"content":s,_.els.process_overlay.show(),_.els.process.show(),n(".process__content").hide(),n(".process__content--"+s).show(),n(e.body).trigger("iconic_wssv_show_process_"+s)},hide(){_.els.process_overlay.hide(),_.els.process.hide(),_.els.process_loading.show(),_.els.process_complete.hide(),_.els.process_content.hide(),_.process.reset_percentage(),n(e.body).trigger("iconic_wssv_hide_process")},update_count(s,e,t){_.els.process_from.text(s),_.els.process_to.text(e),_.els.process_total.text(t)},set_percentage(s,e){s=s/e*100;_.els.process_loading_bar_fill.css("width",s+"%")},reset_percentage(){_.els.process_loading_bar_fill.css("width","0%")}},batch(e,t,o,i,c,a){a=a||{};let r=!0,s={action:"iconic_wssv_"+e,iconic_wssv_limit:o,iconic_wssv_offset:i,nonce:jckWssvVars?.index_nonce,...jckWssvVars?.process_product_visibility_request_data};n.extend(s,a),n.post(ajaxurl,s,function(){var s=i+o;s<t?_.batch(e,t,o,s,c,a):r=!1,"function"==typeof c&&c(r,s)})},get_count(e,t){var s;_?.vars?.count?.[e]?"function"==typeof t&&t(_.vars.count[e]):(s={action:"iconic_wssv_get_"+e+"_count",iconic_wssv_categories_to_apply_visibility_settings_to_variations:n(".iconic-wssv-categories-to-apply-visibility-settings--variations .iconic-wssv-categories-to-apply-visibility-settings__categories").val(),iconic_wssv_categories_to_apply_visibility_settings_to_variables:n(".iconic-wssv-categories-to-apply-visibility-settings--variables .iconic-wssv-categories-to-apply-visibility-settings__categories").val(),nonce:jckWssvVars?.index_nonce,...jckWssvVars?.get_product_count_request_data},jQuery.post(ajaxurl,s,function(s){"function"==typeof t&&t(s.count),_.vars.count[e]=s.count}))}};n(e).ready(_.on_ready())})(jQuery,document),(o=>{let i={init(){o("#variable_product_options").on("change","input.jck_wssv_variable_manage_product_cat",this.variation_manage_categories).on("change","input.jck_wssv_variable_manage_product_tag",this.variation_manage_tags),o("#woocommerce-product-data").on("woocommerce_variations_loaded",this.variations_loaded)},variation_manage_categories(){o(this).is(":checked")?o(this).closest(".woocommerce_variation").find(".iconic-wssv-variation-product_cat").show():o(this).closest(".woocommerce_variation").find(".iconic-wssv-variation-product_cat").hide()},variation_manage_tags(){o(this).is(":checked")?o(this).closest(".woocommerce_variation").find(".iconic-wssv-variation-product_tag").show():o(this).closest(".woocommerce_variation").find(".iconic-wssv-variation-product_tag").hide()},variations_loaded(s,e){e=e||!1;var t=o("#woocommerce-product-data");e||o("input.jck_wssv_variable_manage_product_cat, input.jck_wssv_variable_manage_product_tag",t).trigger("change"),o(".iconic-wssv-variation-product_cat select").selectWoo(i.prepare_select_woo_options("categories","product_cat")),o(".iconic-wssv-variation-product_tag select").selectWoo(i.prepare_select_woo_options("tags","product_tag"))},prepare_select_woo_options(s,e){let t={};var o;return s&&jckWssvVars&&jckWssvVars.select_woo_options&&(s=jckWssvVars.select_woo_options[s])&&(o={data(s){return{action:"iconic_wssv_product_taxonomy_search",taxonomy:e,term:s.term}}},o=Object.assign(o,s.ajax),s=Object.assign({},s,{ajax:o}),t=s),t}};i.init()})(jQuery);